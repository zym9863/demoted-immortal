import{_ as $,c as a,o,a as e,d as x,t as c,F as d,r as m,w,I as S,u as C,R as P,f as _,g as y,h,v as A,i as g,j as B,k as D}from"./index-a1MyF7Au.js";import{p as f}from"./poems-Bd695-Hc.js";const I={class:"poem-card card decorative-border"},L={class:"poem-title title-font"},j={class:"poem-meta"},F={class:"poem-author"},N={class:"poem-dynasty"},U={class:"poem-excerpt poem-font"},E={class:"poem-tags"},M={__name:"PoemCard",props:{poem:{type:Object,required:!0}},setup(i){const r=u=>u.split(`
`).slice(0,2).join(`
`);return(u,n)=>(o(),a("div",I,[e("h3",L,c(i.poem.title),1),e("div",j,[e("span",F,c(i.poem.author),1),e("span",N,c(i.poem.dynasty),1)]),e("div",U,[e("p",null,c(r(i.poem.content)),1)]),e("div",E,[(o(!0),a(d,null,m(i.poem.tags,(p,v)=>(o(),a("span",{key:v,class:"tag"},c(p),1))),128))]),x(C(P),{to:`/poems/${i.poem.id}`,class:"read-more btn btn-outline"},{default:w(()=>[x(S,{name:"scroll",size:"16"}),n[0]||(n[0]=e("span",null,"阅读全文",-1))]),_:1,__:[0]},8,["to"])]))}},R=$(M,[["__scopeId","data-v-1d3e6567"]]),q={class:"poem-list"},z={class:"filters"},O={class:"search-box"},Q={class:"filter-selects"},T=["value"],G=["value"],H={class:"poems-container"},J={key:0,class:"no-results"},K={__name:"PoemListView",setup(i){const r=_(""),u=_(""),n=_(""),p=y(()=>{const l=new Set(f.map(t=>t.author));return Array.from(l)}),v=y(()=>{const l=new Set(f.map(t=>t.dynasty));return Array.from(l)}),k=y(()=>f.filter(l=>{const t=r.value===""||l.title.includes(r.value)||l.content.includes(r.value),s=u.value===""||l.author===u.value,b=n.value===""||l.dynasty===n.value;return t&&s&&b})),V=()=>{r.value="",u.value="",n.value=""};return(l,t)=>(o(),a("div",q,[t[6]||(t[6]=e("div",{class:"page-header"},[e("h1",null,"谪仙诗词鉴赏"),e("p",null,"探索古典诗词之美，感受谪仙意境之妙")],-1)),e("div",z,[e("div",O,[h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),placeholder:"搜索诗词标题或内容"},null,512),[[A,r.value]])]),e("div",Q,[h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s)},[t[3]||(t[3]=e("option",{value:""},"所有作者",-1)),(o(!0),a(d,null,m(p.value,s=>(o(),a("option",{key:s,value:s},c(s),9,T))),128))],512),[[g,u.value]]),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s)},[t[4]||(t[4]=e("option",{value:""},"所有朝代",-1)),(o(!0),a(d,null,m(v.value,s=>(o(),a("option",{key:s,value:s},c(s),9,G))),128))],512),[[g,n.value]]),e("button",{class:"reset-button",onClick:V},"重置筛选")])]),e("div",H,[(o(!0),a(d,null,m(k.value,s=>(o(),D(R,{key:s.id,poem:s},null,8,["poem"]))),128)),k.value.length===0?(o(),a("div",J,t[5]||(t[5]=[e("p",null,"未找到符合条件的诗词，请尝试其他筛选条件。",-1)]))):B("",!0)])]))}},Y=$(K,[["__scopeId","data-v-885a4316"]]);export{Y as default};
